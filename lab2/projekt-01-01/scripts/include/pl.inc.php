<?php

//ąćęłńóśźżĄĆĘŁŃÓŚŹŻ
define('PL_ISO_ALL', "\xb1\xe6\xea\xb3\xf1\xf3\xb6\xbc\xbf\xa1\xc6\xca\xa3\xd1\xd3\xa6\xac\xaf");
$ARRAY_PL_ISO_ALL = array(
    "\xb1", "\xe6", "\xea", "\xb3", "\xf1", "\xf3", "\xb6", "\xbc", "\xbf",
    "\xa1", "\xc6", "\xca", "\xa3", "\xd1", "\xd3", "\xa6", "\xac", "\xaf"
);


//ĄĆĘŁŃÓŚŹŻ
define('PL_ISO_ALL_UPPER', "\xa1\xc6\xca\xa3\xd1\xd3\xa6\xac\xaf");
$ARRAY_PL_ISO_ALL_UPPER = array(
    "\xa1", "\xc6", "\xca", "\xa3", "\xd1", "\xd3", "\xa6", "\xac", "\xaf"
);


//ąćęłńóśźż
define('PL_ISO_ALL_LOWER', "\xb1\xe6\xea\xb3\xf1\xf3\xb6\xbc\xbf");
$ARRAY_PL_ISO_ALL_LOWER = array(
    "\xb1", "\xe6", "\xea", "\xb3", "\xf1", "\xf3", "\xb6", "\xbc", "\xbf"
);


//ąśźĄŚŹ
define('PL_ISO_SPECIFIC', "\xb1\xb6\xbc\xa1\xa6\xac");
$ARRAY_PL_ISO_SPECIFIC = array(
    "\xb1", "\xb6", "\xbc",
    "\xa1", "\xa6", "\xac"
);


//ĄŚŹ
define('PL_ISO_SPECIFIC_UPPER', "\xa1\xa6\xac");
$ARRAY_PL_ISO_SPECIFIC_UPPER = array(
    "\xa1", "\xa6", "\xac"
);


//ąśź
define('PL_ISO_SPECIFIC_LOWER', "\xb1\xb6\xbc");
$ARRAY_PL_ISO_SPECIFIC_LOWER = array(
    "\xb1", "\xb6", "\xbc"
);


//ąćęłńóśźżĄĆĘŁŃÓŚŹŻ
define('PL_WIN_ALL', "\xb9\xe6\xea\xb3\xf1\xf3\x9c\x9f\xbf\xa5\xc6\xca\xa3\xd1\xd3\x8c\x8f\xaf");
$ARRAY_PL_WIN_ALL = array(
    "\xb9", "\xe6", "\xea", "\xb3", "\xf1", "\xf3", "\x9c", "\x9f", "\xbf",
    "\xa5", "\xc6", "\xca", "\xa3", "\xd1", "\xd3", "\x8c", "\x8f", "\xaf"
);


//ĄĆĘŁŃÓŚŹŻ
define('PL_WIN_ALL_UPPER', "\xa5\xc6\xca\xa3\xd1\xd3\x8c\x8f\xaf");
$ARRAY_PL_WIN_ALL_UPPER = array(
    "\xa5", "\xc6", "\xca", "\xa3", "\xd1", "\xd3", "\x8c", "\x8f", "\xaf"
);


//ąćęłńóśźż
define('PL_WIN_ALL_LOWER', "\xb9\xe6\xea\xb3\xf1\xf3\x9c\x9f\xbf");
$ARRAY_PL_WIN_ALL_LOWER = array(
    "\xb9", "\xe6", "\xea", "\xb3", "\xf1", "\xf3", "\x9c", "\x9f", "\xbf"
);


//ąśźĄŚŹ
define('PL_WIN_SPECIFIC', "\xb9\x9c\x9f\xa5\x8c\x8f");
$ARRAY_PL_WIN_SPECIFIC = array(
    "\xb9", "\x9c", "\x9f",
    "\xa5", "\x8c", "\x8f"
);


//ĄŚŹ
define('PL_WIN_SPECIFIC_UPPER', "\xa5\x8c\x8f");
$PL_WIN_SPECIFIC_UPPER = array(
    "\xa5", "\x8c", "\x8f"
);


//ąśź
define('PL_WIN_SPECIFIC_LOWER', "\xb9\x9c\x9f");
$ARRAY_PL_WIN_SPECIFIC_LOWER = array(
    "\xb9", "\x9c", "\x9f"
);


//ćęłńóżĆĘŁŃÓŻ
define('PL_COMMON', "\xe6\xea\xb3\xf1\xf3\xbf\xc6\xca\xa3\xd1\xd3\xaf");
$ARRAY_PL_COMMON = array(
    "\xe6", "\xea", "\xb3", "\xf1", "\xf3", "\xbf",
    "\xc6", "\xca", "\xa3", "\xd1", "\xd3", "\xaf"
);


//ĆĘŁŃÓŻ
define('PL_COMMON_UPPER', "\xc6\xca\xa3\xd1\xd3\xaf");
$ARRAY_PL_COMMON_UPPER = array(
    "\xc6", "\xca", "\xa3",
    "\xd1", "\xd3", "\xaf"
);


//ćęłńóż
define('PL_COMMON_LOWER', "\xe6\xea\xb3\xf1\xf3\xbf");
$ARRAY_PL_COMMON_LOWER = array(
    "\xe6", "\xea", "\xb3",
    "\xf1", "\xf3", "\xbf"
);


define('PL_ASCII_ALL',            'acelnoszzACELNOSZZ');
define('PL_ASCII_UPPER',          'ACELNOSZZ');
define('PL_ASCII_LOWER',          'acelnoszz');
define('PL_ASCII_SPECIFIC',       'aszASZ');
define('PL_ASCII_SPECIFIC_UPPER', 'ASZ');
define('PL_ASCII_SPECIFIC_LOWER', 'asz');
define('PL_ASCII_COMMON',         'celnozCELNOZ');
define('PL_ASCII_COMMON_UPPER',   'CELNOZ');
define('PL_ASCII_COMMON_LOWER',   'celnoz');





//*****ESCAPED********************************************************************************

//kodowanie backshlash-kod-szesnastkowy (php) kodu iso-8859-2
$ARRAY_PL_ISO_ESCAPE_BACKSHALH_HEX = array(
    '\xb1', '\xe6', '\xea', '\xb3', '\xf1', '\xf3', '\xb6', '\xbc', '\xbf',
    '\xa1', '\xc6', '\xca', '\xa3', '\xd1', '\xd3', '\xa6', '\xac', '\xaf'
);

//kodowanie backshlash-kod-szesnastkowy (php) kodu windows-1250
$ARRAY_PL_ISO_ESCAPE_BACKSHALH_HEX = array(
    '\xb9', '\xe6', '\xea', '\xb3', '\xf1', '\xf3', '\x9c', '\x9f', '\xbf',
    '\xa5', '\xc6', '\xca', '\xa3', '\xd1', '\xd3', '\x8c', '\x8f', '\xaf'
);

//wynik rawurlencode na kodzie iso-8859-2
$ARRAY_PL_ISO_URL = array(
    '%B1', '%E6', '%EA', '%B3', '%F1', '%F3', '%B6', '%BC', '%BF',
    '%A1', '%C6', '%CA', '%A3', '%D1', '%D3', '%A6', '%AC', '%AF'
);

//wynik rawurlencode na kodzie windows-1250
$ARRAY_PL_WIN_URL = array(
    '%B9', '%E6', '%EA', '%B3', '%F1', '%F3', '%9C', '%9F','%BF',
    '%A5', '%C6', '%CA', '%A3', '%D1', '%D3', '%8C', '%8F', '%AF'
);

//wynik funkcji escape z javascript
$ARRAY_PL_UTF16_ESCAPE_JAVASCRIPT = array(
    '%u0105', '%u0107', '%u0119', '%u0142', '%u0144', '%u00F3', '%u015B', '%u017A', '%u017C',
    '%u0104', '%u0106', '%u0118', '%u0141', '%u0143', '%u00D3', '%u015A', '%u0179', '%u017B'
);


// \.r - ż
// \.z - ź
// \.R - Ż
// \.Z - Ź

//old LaTeX
$ARRAY_PL_OLD_LATEX = array(
    '\.a', '\.c', '\.e', '\.l', '\.n', '\.o', '\.s', '\.z', '\.r',
    '\.A', '\.C', '\.E', '\.L', '\.N', '\.O', '\.S', '\.Z', '\.R'
);

/*
$ARRAY_PL_UTF8 = array(
    'ą', 'ć', 'ę', 'ł', 'ń', 'ś', 'ź', 'ż',
    'Ą', 'Ć', 'Ę', 'Ł', 'Ń', 'Ś', 'Ź', 'Ż'
);
*/


$ARRAY_PL_ASCII = array(
    'a', 'c', 'e', 'l', 'n', 's', 'z', 'z',
    'A', 'C', 'E', 'L', 'N', 'S', 'Z', 'Z'
);



//ąćęłńóśźżĄĆĘŁŃÓŚŹŻ
$ARRAY_PL_UTF8 = array(
    "\xc4\x85", "\xc4\x87", "\xc4\x99", "\xc5\x82", "\xc5\x84", "\xc3\xb3", "\xc5\x9b", "\xc5\xba", "\xc5\xbc", "\xc4\x84", "\xc4\x86", "\xc4\x98", "\xc5\x81", "\xc5\x83", "\xc3\x93", "\xc5\x9a", "\xc5\xb9", "\xc5\xbb",
);


//*****Z ISO********************************************************************************

function pl_iso2win($AStr)
{
    return strtr($AStr, PL_ISO_SPECIFIC, PL_WIN_SPECIFIC);
}

function pl_iso2utf8($AStr)
{
    return iconv('ISO-8859-2', 'UTF-8', $AStr);
}

function pl_iso2utf16($AStr)
{
    return iconv('ISO-8859-2', 'UTF-16', $AStr);
}

function pl_iso2ascii($AStr)
{
    return strtr($AStr, PL_ISO_ALL, PL_ASCII_ALL);
}


//*****Z WIN********************************************************************************

function pl_win2iso($AStr)
{
    return strtr($AStr, PL_WIN_SPECIFIC, PL_ISO_SPECIFIC);
}

function pl_win2utf8($AStr)
{
    return iconv('WINDOWS-1250', 'UTF-8', $AStr);
}

function pl_win2utf16($AStr)
{
    return iconv('WINDOWS-1250', 'UTF-16', $AStr);
}

function pl_win2ascii($AStr)
{
    return strtr($AStr, PL_WIN_ALL, PL_ASCII_ALL);
}


//*****Z UTF-8********************************************************************************

function pl_utf82iso($AStr)
{
    return iconv('UTF-8', 'ISO-8859-2', $AStr);
}


function pl_utf82win($AStr)
{
    return iconv('UTF-8', 'WINDOWS-1250', $AStr);
}

function pl_utf82utf16($AStr)
{
    return iconv('UTF-8', 'UTF-8', $AStr);
}

function pl_utf82ascii($AStr)
{
/*
    //uwaga: wywraca się, gdy napis zawiera znaki nie będące literami,
    //na przykład cudzysłów polski
    $tmp = pl_utf82iso($AStr);
    $tmp = pl_iso2ascii($tmp);
    return $tmp;
*/

    $tmp = $AStr;

    //urywamy ogonki inne od polskich
    $tab_from = array('é', 'ö', 'ş', 'ü', 'á');
    $tab_to   = array('e', 'o', 's', 'u', 'a');
    
    $tmp = str_replace($tab_from, $tab_to, $tmp);
    

    //urywamy wszystkie ogonki różne od polskich
    //polskie kodujemy w iso
    $tmp = iconv("UTF-8", "ISO-8859-2//IGNORE", $tmp);
    
    //urywamy polskie ogonki
    $tmp = pl_iso2ascii($tmp);
    return $tmp;

}


//*****Z UTF-16********************************************************************************

function pl_utf162iso($AStr)
{
    return iconv('UTF-16', 'ISO-8859-2', $AStr);
}


function pl_utf162win($AStr)
{
    return iconv('UTF-16', 'WINDOWS-1250', $AStr);
}

function pl_utf162utf8($AStr)
{
    return iconv('UTF-16', 'UTF-8', $AStr);
}

function pl_utf162ascii($AStr)
{
    $tmp = pl_utf162iso($AStr);
    $tmp = pl_iso2ascii($tmp);
    return $tmp;
}


//*****ESCAPED********************************************************************************

function pl_iso2escapeURL($AStr)
{
    return rawurlencode($AStr);
}

function pl_win2escapeURL($AStr)
{
    return rawurlencode($AStr);
}


function pl_escapeURL2iso($AStr)
{
    return rawurldecode($AStr);
}

function pl_escapeURL2win($AStr)
{
    return rawurldecode($AStr);
}


function pl_iso_escape_URL2escape_javascript($AStr)
{
    global $ARRAY_PL_ISO_URL, $ARRAY_PL_UTF16_ESCAPE_JAVASCRIPT;

    return str_replace($ARRAY_PL_ISO_URL, $ARRAY_PL_UTF16_ESCAPE_JAVASCRIPT, $AStr);
}

function pl_win_escape_URL2escape_javascript($AStr)
{
    global $ARRAY_PL_WIN_URL, $ARRAY_PL_UTF16_ESCAPE_JAVASCRIPT;

    return str_replace($ARRAY_PL_WIN_URL, $ARRAY_PL_UTF16_ESCAPE_JAVASCRIPT, $AStr);
}


function pl_escape_javascript2iso_escape_URL($AStr)
{
    global $ARRAY_PL_ISO_URL, $ARRAY_PL_UTF16_ESCAPE_JAVASCRIPT;

    return str_replace($ARRAY_PL_UTF16_ESCAPE_JAVASCRIPT, $ARRAY_PL_ISO_URL, $AStr);
}

function pl_escape_javascript2win_escape_URL($AStr)
{
    global $ARRAY_PL_WIN_URL, $ARRAY_PL_UTF16_ESCAPE_JAVASCRIPT;

    return str_replace($ARRAY_PL_UTF16_ESCAPE_JAVASCRIPT, $ARRAY_PL_WIN_URL, $AStr);
}


function pl_old_latex2ISO($AStr)
{
    global $ARRAY_PL_ISO_ALL, $ARRAY_PL_OLD_LATEX;

    return str_replace($ARRAY_PL_OLD_LATEX, $ARRAY_PL_ISO_ALL, $AStr);
}

